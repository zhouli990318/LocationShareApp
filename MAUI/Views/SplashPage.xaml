<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="LocationShareApp.Views.SplashPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:LocationShareApp.ViewModels"
             x:DataType="viewmodels:SplashViewModel"
             Shell.NavBarIsVisible="False"
             BackgroundColor="{StaticResource Primary}">

    <Grid>
        <!-- èƒŒæ™¯æ¸å˜ -->
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="{StaticResource Primary}" Offset="0.0" />
                <GradientStop Color="{StaticResource Secondary}" Offset="1.0" />
            </LinearGradientBrush>
        </Grid.Background>

        <!-- ä¸»è¦å†…å®¹ -->
        <StackLayout VerticalOptions="Center" Spacing="40" Padding="40">
            
            <!-- åº”ç”¨Logo -->
            <StackLayout Spacing="20" HorizontalOptions="Center">
                <Frame BackgroundColor="White"
                       CornerRadius="30"
                       HeightRequest="120"
                       WidthRequest="120"
                       Padding="0"
                       HasShadow="True">
                    <Label Text="ðŸ“"
                           FontSize="60"
                           HorizontalOptions="Center"
                           VerticalOptions="Center" />
                </Frame>
                
                <Label Text="ä½ç½®å…±äº«"
                       FontSize="32"
                       FontAttributes="Bold"
                       TextColor="White"
                       HorizontalOptions="Center" />
                
                <Label Text="ä¸Žå®¶äººæœ‹å‹åˆ†äº«å®žæ—¶ä½ç½®"
                       FontSize="16"
                       TextColor="White"
                       Opacity="0.8"
                       HorizontalOptions="Center" />
            </StackLayout>

            <!-- åˆå§‹åŒ–è¿›åº¦ -->
            <StackLayout Spacing="20">
                
                <!-- è¿›åº¦æ¡ -->
                <ProgressBar Progress="{Binding InitializationProgress}"
                             ProgressColor="White"
                             BackgroundColor="#40FFFFFF"
                             HeightRequest="6"
                             Margin="20,0" />
                
                <!-- å½“å‰æ­¥éª¤ -->
                <Label Text="{Binding CurrentStep}"
                       FontSize="14"
                       TextColor="White"
                       Opacity="0.9"
                       HorizontalOptions="Center" />
                
                <!-- åŠ è½½åŠ¨ç”» -->
                <ActivityIndicator IsVisible="{Binding IsInitializing}"
                                   IsRunning="{Binding IsInitializing}"
                                   Color="White"
                                   HorizontalOptions="Center" />
            </StackLayout>

            <!-- é”™è¯¯ä¿¡æ¯ -->
            <StackLayout IsVisible="{Binding HasError}" Spacing="15">
                <Label Text="âš ï¸"
                       FontSize="24"
                       HorizontalOptions="Center" />
                <Label Text="{Binding ErrorMessage}"
                       FontSize="14"
                       TextColor="White"
                       HorizontalOptions="Center"
                       HorizontalTextAlignment="Center" />
                <Button Text="é‡è¯•"
                        Command="{Binding RetryCommand}"
                        BackgroundColor="White"
                        TextColor="{StaticResource Primary}"
                        CornerRadius="20"
                        Padding="30,10"
                        HorizontalOptions="Center" />
            </StackLayout>

        </StackLayout>

        <!-- ç‰ˆæœ¬ä¿¡æ¯ -->
        <Label Text="{Binding AppVersion, StringFormat='ç‰ˆæœ¬ {0}'}"
               FontSize="12"
               TextColor="White"
               Opacity="0.6"
               HorizontalOptions="Center"
               VerticalOptions="End"
               Margin="0,0,0,20" />
    </Grid>

</ContentPage>